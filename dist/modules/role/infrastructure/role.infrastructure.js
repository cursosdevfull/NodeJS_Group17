"use strict";var __awaiter=this&&this.__awaiter||function(t,r,e,o){return new(e||(e=Promise))((function(a,n){function i(t){try{l(o.next(t))}catch(t){n(t)}}function s(t){try{l(o.throw(t))}catch(t){n(t)}}function l(t){var r;t.done?a(t.value):(r=t.value,r instanceof e?r:new e((function(t){t(r)}))).then(i,s)}l((o=o.apply(t,r||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.RoleInfrastructure=void 0;const database_bootstrap_1=require("../../../bootstrap/database.bootstrap"),logger_1=require("../../../core/utils/logger"),role_dto_1=require("./dtos/role.dto"),role_entity_1=require("./entities/role.entity");class RoleInfrastructure{constructor(){this.logger=logger_1.Logger.createLogger()}getAll(){return __awaiter(this,void 0,void 0,(function*(){try{const t=database_bootstrap_1.DatabaseBootstrap.getDataSource().getRepository(role_entity_1.RoleEntity),r=yield t.find();return role_dto_1.RoleDto.fromDataToDomain(r)}catch(t){throw this.logger.logError("Error getAll role",t),new Error("Error getAll role")}}))}}exports.RoleInfrastructure=RoleInfrastructure;