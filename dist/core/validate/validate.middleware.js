"use strict";var __awaiter=this&&this.__awaiter||function(t,e,a,s){return new(a||(a=Promise))((function(r,i){function n(t){try{o(s.next(t))}catch(t){i(t)}}function c(t){try{o(s.throw(t))}catch(t){i(t)}}function o(t){var e;t.done?r(t.value):(e=t.value,e instanceof a?e:new a((function(t){t(e)}))).then(n,c)}o((s=s.apply(t,e||[])).next())}))};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ValidateParameters=void 0;const class_validator_1=require("class-validator"),extract_1=require("../utils/extract");class ValidateParameters{static execute(t){return(e,a,s)=>__awaiter(this,void 0,void 0,(function*(){const r=new t,i=Object.assign(Object.assign(Object.assign(Object.assign({},e.body),e.params),e.query),e.headers);Object.assign(r,i);const n=yield(0,class_validator_1.validate)(r);if(n.length>0){(0,extract_1.setDefault)(),(0,extract_1.ExtractValueProperties)(n,"constraints");const t=extract_1.listConstraints;return a.status(400).json({errorsDetails:t})}s()}))}}exports.ValidateParameters=ValidateParameters;