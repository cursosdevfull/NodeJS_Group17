"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UserFactory=void 0;const uuid_1=require("uuid"),user_1=require("./user");class UserFactory{static create(r){if(r.userId&&!(0,uuid_1.validate)(r.userId))throw new Error("Invalid UUID");if(r.email&&!r.email.match(/^[a-zA-Z0-9._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,6}$/))throw new Error("Invalid email");if(r.name&&r.name.length<3)throw new Error("Name too short");if(r.lastname&&r.lastname.length<3)throw new Error("Lastname too short");if(r.password&&r.password.length<8)throw new Error("Password too short");if(r.roles&&0===r.roles.length)throw new Error("Roles cannot be empty");return r.userId||(r.userId=(0,uuid_1.v4)()),new user_1.User(r)}}exports.UserFactory=UserFactory;